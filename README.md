Калькулятор математических выражений

Алгоритм работы
Калькулятор использует два основных алгоритма:

1)Алгоритм шунтирующего двора (Shunting Yard)
Назначение: Преобразование инфиксной записи в обратную польскую нотацию (RPN)

Шаги алгоритма:

1.Токенизация - разбиение выражения на токены (числа, операторы, скобки)

2.Обработка токенов:

Числа сразу добавляются в выходную очередь

Операторы помещаются в стек с учетом приоритетов

Открывающие скобки помещаются в стек

При встрече закрывающей скобки операторы выталкиваются до открывающей скобки

3.Завершение - оставшиеся операторы выталкиваются из стека

2)Вычисление RPN
Назначение: Вычисление значения выражения в обратной польской нотации

Шаги алгоритма:

1.Чтение токенов из очереди RPN

2.Для чисел - добавление в стек

3.Для операторов - извлечение операндов из стека, выполнение операции, помещение результата обратно

4.Результат - последнее значение в стеке

Описание основных файлов:
Присутствует интерактивный режим, запускающийся через main.py

calculator.py возвращает конечный результат работы калькулятора

rpn_evaluator.py вычисляет выражения, записанные в rpn

shunting_yard.py отвечает за преобразование выражения из инфиксной записи в польскую

operators.py отвечает за обработку операторов и их приоритетов

tokenizer.py отвечает за разбиение на токены выражений

Имеются pytest'ы в папке tests для проверки работы калькулятора с выражениями и вывода ошибок

Поддерживаемые операции
Бинарные операторы:
'+' - сложение (приоритет 1)

'-' - вычитание (приоритет 1)

'*' - умножение (приоритет 2)

'/' - деление (приоритет 2)

'//' - целочисленное деление (приоритет 2)

'%' - остаток от деления (приоритет 2)

'**' - возведение в степень (приоритет 3)


Унарные операторы:
'+' (преобразуется в '$' и имеет приоритет 4) - унарный плюс

'-' (преобразуется в '~' и имеет приоритет 4) - унарный минус

Приоритеты идут по возрастанию их значимости, т.е приоритет 2 выше чем приоритет 1 и т.д.

Из-за правоассоциативности операции ** для нее используется особое условие выталкивания операции из стека,
для выталкивания оно должно быть строго приоритетом больше,чем предыдущий оператор, а не больше или равно

Допущения и ограничения в коде:
1)Синтаксические допущения
Неявное умножение не поддерживается: Выражения типа 4(2+1) вызовут ошибку

Унарные операторы: Определяются по контексту (если перед оператором ничего нет или если унарный оператор в скобках,
то все хорошо, иначе ошибка)
2)Типовые ограничения
Целочисленные операции: // и % работают только с целыми числами

Деление на ноль: Проверяется для всех операций деления и выводится ошибка, если оно присутствует

Типы чисел: Поддерживаются целые и вещественные числа

3)Ограничения токенизатора
Пробелы: Игнорируются полностью (допускается ввод с любым количеством пробелов, например '6 -3' или '6 - 3',
так же при вводе '56 93 39' выведет '569339'

Многосимвольные операторы: Корректно обрабатываются ** и //

Десятичные числа: Поддерживаются числа с плавающей точкой

4)Обработка ошибок ввода
Пустое выражение и выражения с недостатком операндов считается за ошибку

Неопознанные операторы и токены не обрабатываются и выводится ошибка
